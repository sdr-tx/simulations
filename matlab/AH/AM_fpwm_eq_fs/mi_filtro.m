function y = mi_filtro(x)
%MI_FILTRO Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 8.3 and the DSP System Toolbox 8.6.
% Generated on: 18-Apr-2019 22:58:05

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 12800000;  % Sampling Frequency
    %
    % Fstop1 = 1240000;         % First Stopband Frequency
    % Fpass1 = 1270000;         % First Passband Frequency
    % Fpass2 = 1290000;         % Second Passband Frequency
    % Fstop2 = 1320000;         % Second Stopband Frequency
    % Dstop1 = 0.01;            % First Stopband Attenuation
    % Dpass  = 0.057501127785;  % Passband Ripple
    % Dstop2 = 0.01;            % Second Stopband Attenuation
    % dens   = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fstop1 Fpass1 Fpass2 Fstop2]/(Fs/2), [0 1 ...
    %                           0], [Dstop1 Dpass Dstop2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [0.00341368961604476 -0.00500118265690755 ...
        -0.00225396300793915 -0.000930642945745047 -0.000439753304496229 ...
        -0.00038880885625003 -0.000505239505997304 -0.00058765533549378 ...
        -0.000534032832548949 -0.000321805839022013 -1.75529983764281e-05 ...
        0.000279450116709767 0.00045819349441108 0.0004609866540555 ...
        0.000284201058272266 1.5732816357264e-06 -0.000284889079618896 ...
        -0.000461009351191304 -0.000464815789307895 -0.000288061587354679 ...
        -1.88340820361007e-06 0.000291538442549122 0.000474577896849758 ...
        0.000481157160066621 0.000299593294864051 1.62445679201522e-06 ...
        -0.00030707098019475 -0.000501624139282587 -0.000510727542863771 ...
        -0.000318889178181167 -1.79468603560273e-06 0.000330253772092457 ...
        0.000539232625267273 0.000552940397840572 0.0003435104663845 ...
        2.95032113583997e-06 -0.000358990047897209 -0.00059096656516301 ...
        -0.000599334692677887 -0.000379780511870135 -1.59243579184957e-06 ...
        0.000394935602478271 0.000648067666188659 0.000660153216062157 ...
        0.000416967287434958 1.94173204605321e-06 -0.000434237584130867 ...
        -0.000716168299473158 -0.000729834705967597 -0.000458532062756773 ...
        -6.5049783939692e-07 0.00047792260044593 0.000789364933896545 ...
        0.000807394008045837 0.000508456027662365 -9.65547995637056e-09 ...
        -0.000529858263371165 -0.00087179267998392 -0.000888997657265249 ...
        -0.000559576571565336 -8.14692347614158e-07 0.000582190513642757 ...
        0.000960508691580085 0.000980649367570798 0.000617645999474213 ...
        3.11017147192755e-07 -0.000641754928567622 -0.00105709730424942 ...
        -0.00107682887509993 -0.000676516123791169 -2.32615193298397e-07 ...
        0.000704118676980745 0.00115666056753331 0.00117961314947405 ...
        0.000741621000817507 6.2432714074967e-07 -0.000768508597632437 ...
        -0.00126505750465669 -0.0012893013345482 -0.000809749176510321 ...
        -4.86546084462434e-07 0.000838489361270607 0.00137897226607182 ...
        0.00140340922512875 0.000880501703031736 -2.89406622752501e-07 ...
        -0.00091138931372956 -0.00149687118236525 -0.001522094372111 ...
        -0.000954873737183133 4.48949093118448e-08 0.000986849909944092 ...
        0.0016199656986353 0.00164622343697611 0.00103287555663218 ...
        8.97107426435506e-07 -0.00106523328008361 -0.00174884329282564 ...
        -0.0017759645395514 -0.00111334610482465 -7.82304891300961e-07 ...
        0.00114658707086656 0.00188206768534062 0.00190997419951778 ...
        0.001197143690868 1.35211540930671e-08 -0.00123142777300211 ...
        -0.00201918240218378 -0.00204766900365091 -0.00128199127427107 ...
        -3.37705902749008e-07 0.00131794631772695 0.00216039349002974 ...
        0.00218931693616827 0.0013701290427824 1.29767040243575e-07 ...
        -0.00140709506661525 -0.00230454254612946 -0.00233408740695093 ...
        -0.00146031610386279 -4.4761147886211e-07 0.00149764445013684 ...
        0.00245241403747377 0.00248301659497737 0.00155289412204499 ...
        4.80949993909678e-07 -0.00159080567128773 -0.00260365102150822 ...
        -0.00263458064408917 -0.00164673926973681 -5.22793820747179e-07 ...
        0.00168523775227667 0.00275736473683692 0.00278927719553717 ...
        0.00174284870649306 9.50084796379549e-07 -0.00178125437850624 ...
        -0.00291315802186268 -0.00294572167983993 -0.00183963447304265 ...
        -4.39200099247583e-07 0.00187855997386194 0.0030707953649368 ...
        0.00310277587642303 0.00193675992887382 -1.29801116442903e-07 ...
        -0.00197757936401692 -0.0032304359249043 -0.00326248490574026 ...
        -0.00203539206109031 6.93152273873593e-07 0.00207719503632695 ...
        0.00339201671902916 0.00342484028441817 0.00213646228875512 ...
        8.7691885994768e-07 -0.00217511184103548 -0.00355143573535969 ...
        -0.0035842195874609 -0.00223469294423013 6.49214209995364e-09 ...
        0.00227531476112002 0.00371324597426346 0.00374599309398695 ...
        0.00233487257037247 4.36431971595139e-07 -0.00237443480996999 ...
        -0.00387392268641194 -0.00390670253197304 -0.00243430147471466 ...
        -3.22691220532717e-07 0.00247409623731117 0.00403498167896215 ...
        0.00406766311804466 0.00253341672901938 3.73357787840714e-07 ...
        -0.00257316135081988 -0.00419460586637992 -0.00422668313635724 ...
        -0.00263162593632616 -2.16671602252909e-07 0.00267107773061532 ...
        0.00435292076627941 0.00438480489617946 0.00272888836017207 ...
        1.05378463607919e-07 -0.00276793519037782 -0.0045093050045996 ...
        -0.00454063899338629 -0.00282500437777348 -2.39089058548699e-07 ...
        0.00286332669230194 0.00466312699564677 0.00469404767880991 ...
        0.00291969521791611 4.06535438760708e-07 -0.00295707564325352 ...
        -0.00481421189431468 -0.00484429460869581 -0.00301199400672673 ...
        -2.83765709609661e-07 0.00304860484153504 0.00496162863782557 ...
        0.00499102586401282 0.00310224530595875 1.76722577507546e-07 ...
        -0.00313785056537766 -0.00510532637605707 -0.00513374665104104 ...
        -0.00319008712969571 -2.67212421377339e-07 0.00322460949158706 ...
        0.00524472270717186 0.00527238155648344 0.00327500508098072 ...
        1.00340192648631e-07 -0.00330838176379522 -0.00537938773375837 ...
        -0.00540598434358695 -0.00335702174562144 -2.25984747295391e-07 ...
        0.0033891234286662 0.00550898760319725 0.00553456114353981 ...
        0.00343593683252342 1.07341892922018e-07 -0.00346668048639911 ...
        -0.00563318326769239 -0.00565756108074566 -0.00351119581081547 ...
        -9.22720252080622e-08 0.0035405517694844 0.00575152306914833 ...
        0.00577455335518965 0.00358254105204808 -5.53687111333467e-08 ...
        -0.00361046210077744 -0.00586329131265963 -0.00588511232583688 ...
        -0.00365013954871927 -7.17413587304067e-08 0.00367630889258381 ...
        0.00596855863789434 0.0059890198010416 0.00371360856309074 ...
        -9.44656626915286e-08 -0.00373802534677634 -0.00606695273665544 ...
        -0.00608579547961582 -0.00377240167463417 5.84765604254994e-09 ...
        0.00379505023888652 0.006157888625668 0.0061752309277795 ...
        0.00382686283325086 -5.36551604431168e-08 -0.0038475531492305 ...
        -0.00624115375024494 -0.0062570218689531 -0.00387648974963282 ...
        -3.53015156516479e-08 0.00389505682198245 0.00631670157259106 ...
        0.00633086695184311 0.0039210862774842 -4.95195365008555e-08 ...
        -0.00393778291213038 -0.00638415530518797 -0.00639661192120896 ...
        -0.0039606937679728 5.75050543225042e-08 0.0039752718260428 ...
        0.00644310658943002 0.0064538621075355 0.00399506112144077 ...
        -4.7816611819379e-08 -0.00400745321443645 -0.00649332572884364 ...
        -0.00650246752916185 -0.00402411192895982 -2.13013944552753e-07 ...
        0.00403399617598071 0.00653487082092627 0.00654208788557633 ...
        0.00404740694132797 -5.26650646565097e-08 -0.00405557782592292 ...
        -0.00656770922482408 -0.00657319327825769 -0.00406555955641895 ...
        5.53741950487519e-08 0.00407125449277553 0.00659138766149803 ...
        0.00659507599859136 0.00407794184071432 2.65372435432482e-08 ...
        -0.00408142593273187 -0.00660602621854182 -0.00660794790712033 ...
        -0.00408503493119679 -3.92330552002537e-07 0.00408554279776352 ...
        0.00661116923642897 0.00661116923642897 0.00408554279776352 ...
        -3.92330552002537e-07 -0.00408503493119679 -0.00660794790712033 ...
        -0.00660602621854182 -0.00408142593273187 2.65372435432482e-08 ...
        0.00407794184071432 0.00659507599859136 0.00659138766149803 ...
        0.00407125449277553 5.53741950487519e-08 -0.00406555955641895 ...
        -0.00657319327825769 -0.00656770922482408 -0.00405557782592292 ...
        -5.26650646565097e-08 0.00404740694132797 0.00654208788557633 ...
        0.00653487082092627 0.00403399617598071 -2.13013944552753e-07 ...
        -0.00402411192895982 -0.00650246752916185 -0.00649332572884364 ...
        -0.00400745321443645 -4.7816611819379e-08 0.00399506112144077 ...
        0.0064538621075355 0.00644310658943002 0.0039752718260428 ...
        5.75050543225042e-08 -0.0039606937679728 -0.00639661192120896 ...
        -0.00638415530518797 -0.00393778291213038 -4.95195365008555e-08 ...
        0.0039210862774842 0.00633086695184311 0.00631670157259106 ...
        0.00389505682198245 -3.53015156516479e-08 -0.00387648974963282 ...
        -0.0062570218689531 -0.00624115375024494 -0.0038475531492305 ...
        -5.36551604431168e-08 0.00382686283325086 0.0061752309277795 ...
        0.006157888625668 0.00379505023888652 5.84765604254994e-09 ...
        -0.00377240167463417 -0.00608579547961582 -0.00606695273665544 ...
        -0.00373802534677634 -9.44656626915286e-08 0.00371360856309074 ...
        0.0059890198010416 0.00596855863789434 0.00367630889258381 ...
        -7.17413587304067e-08 -0.00365013954871927 -0.00588511232583688 ...
        -0.00586329131265963 -0.00361046210077744 -5.53687111333467e-08 ...
        0.00358254105204808 0.00577455335518965 0.00575152306914833 ...
        0.0035405517694844 -9.22720252080622e-08 -0.00351119581081547 ...
        -0.00565756108074566 -0.00563318326769239 -0.00346668048639911 ...
        1.07341892922018e-07 0.00343593683252342 0.00553456114353981 ...
        0.00550898760319725 0.0033891234286662 -2.25984747295391e-07 ...
        -0.00335702174562144 -0.00540598434358695 -0.00537938773375837 ...
        -0.00330838176379522 1.00340192648631e-07 0.00327500508098072 ...
        0.00527238155648344 0.00524472270717186 0.00322460949158706 ...
        -2.67212421377339e-07 -0.00319008712969571 -0.00513374665104104 ...
        -0.00510532637605707 -0.00313785056537766 1.76722577507546e-07 ...
        0.00310224530595875 0.00499102586401282 0.00496162863782557 ...
        0.00304860484153504 -2.83765709609661e-07 -0.00301199400672673 ...
        -0.00484429460869581 -0.00481421189431468 -0.00295707564325352 ...
        4.06535438760708e-07 0.00291969521791611 0.00469404767880991 ...
        0.00466312699564677 0.00286332669230194 -2.39089058548699e-07 ...
        -0.00282500437777348 -0.00454063899338629 -0.0045093050045996 ...
        -0.00276793519037782 1.05378463607919e-07 0.00272888836017207 ...
        0.00438480489617946 0.00435292076627941 0.00267107773061532 ...
        -2.16671602252909e-07 -0.00263162593632616 -0.00422668313635724 ...
        -0.00419460586637992 -0.00257316135081988 3.73357787840714e-07 ...
        0.00253341672901938 0.00406766311804466 0.00403498167896215 ...
        0.00247409623731117 -3.22691220532717e-07 -0.00243430147471466 ...
        -0.00390670253197304 -0.00387392268641194 -0.00237443480996999 ...
        4.36431971595139e-07 0.00233487257037247 0.00374599309398695 ...
        0.00371324597426346 0.00227531476112002 6.49214209995364e-09 ...
        -0.00223469294423013 -0.0035842195874609 -0.00355143573535969 ...
        -0.00217511184103548 8.7691885994768e-07 0.00213646228875512 ...
        0.00342484028441817 0.00339201671902916 0.00207719503632695 ...
        6.93152273873593e-07 -0.00203539206109031 -0.00326248490574026 ...
        -0.0032304359249043 -0.00197757936401692 -1.29801116442903e-07 ...
        0.00193675992887382 0.00310277587642303 0.0030707953649368 ...
        0.00187855997386194 -4.39200099247583e-07 -0.00183963447304265 ...
        -0.00294572167983993 -0.00291315802186268 -0.00178125437850624 ...
        9.50084796379549e-07 0.00174284870649306 0.00278927719553717 ...
        0.00275736473683692 0.00168523775227667 -5.22793820747179e-07 ...
        -0.00164673926973681 -0.00263458064408917 -0.00260365102150822 ...
        -0.00159080567128773 4.80949993909678e-07 0.00155289412204499 ...
        0.00248301659497737 0.00245241403747377 0.00149764445013684 ...
        -4.4761147886211e-07 -0.00146031610386279 -0.00233408740695093 ...
        -0.00230454254612946 -0.00140709506661525 1.29767040243575e-07 ...
        0.0013701290427824 0.00218931693616827 0.00216039349002974 ...
        0.00131794631772695 -3.37705902749008e-07 -0.00128199127427107 ...
        -0.00204766900365091 -0.00201918240218378 -0.00123142777300211 ...
        1.35211540930671e-08 0.001197143690868 0.00190997419951778 ...
        0.00188206768534062 0.00114658707086656 -7.82304891300961e-07 ...
        -0.00111334610482465 -0.0017759645395514 -0.00174884329282564 ...
        -0.00106523328008361 8.97107426435506e-07 0.00103287555663218 ...
        0.00164622343697611 0.0016199656986353 0.000986849909944092 ...
        4.48949093118448e-08 -0.000954873737183133 -0.001522094372111 ...
        -0.00149687118236525 -0.00091138931372956 -2.89406622752501e-07 ...
        0.000880501703031736 0.00140340922512875 0.00137897226607182 ...
        0.000838489361270607 -4.86546084462434e-07 -0.000809749176510321 ...
        -0.0012893013345482 -0.00126505750465669 -0.000768508597632437 ...
        6.2432714074967e-07 0.000741621000817507 0.00117961314947405 ...
        0.00115666056753331 0.000704118676980745 -2.32615193298397e-07 ...
        -0.000676516123791169 -0.00107682887509993 -0.00105709730424942 ...
        -0.000641754928567622 3.11017147192755e-07 0.000617645999474213 ...
        0.000980649367570798 0.000960508691580085 0.000582190513642757 ...
        -8.14692347614158e-07 -0.000559576571565336 -0.000888997657265249 ...
        -0.00087179267998392 -0.000529858263371165 -9.65547995637056e-09 ...
        0.000508456027662365 0.000807394008045837 0.000789364933896545 ...
        0.00047792260044593 -6.5049783939692e-07 -0.000458532062756773 ...
        -0.000729834705967597 -0.000716168299473158 -0.000434237584130867 ...
        1.94173204605321e-06 0.000416967287434958 0.000660153216062157 ...
        0.000648067666188659 0.000394935602478271 -1.59243579184957e-06 ...
        -0.000379780511870135 -0.000599334692677887 -0.00059096656516301 ...
        -0.000358990047897209 2.95032113583997e-06 0.0003435104663845 ...
        0.000552940397840572 0.000539232625267273 0.000330253772092457 ...
        -1.79468603560273e-06 -0.000318889178181167 -0.000510727542863771 ...
        -0.000501624139282587 -0.00030707098019475 1.62445679201522e-06 ...
        0.000299593294864051 0.000481157160066621 0.000474577896849758 ...
        0.000291538442549122 -1.88340820361007e-06 -0.000288061587354679 ...
        -0.000464815789307895 -0.000461009351191304 -0.000284889079618896 ...
        1.5732816357264e-06 0.000284201058272266 0.0004609866540555 ...
        0.00045819349441108 0.000279450116709767 -1.75529983764281e-05 ...
        -0.000321805839022013 -0.000534032832548949 -0.00058765533549378 ...
        -0.000505239505997304 -0.00038880885625003 -0.000439753304496229 ...
        -0.000930642945745047 -0.00225396300793915 -0.00500118265690755 ...
        0.00341368961604476]);
end

y = step(Hd,x);


% [EOF]
